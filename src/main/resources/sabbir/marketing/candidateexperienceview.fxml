<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.BarChart?>
<?import javafx.scene.chart.CategoryAxis?>
<?import javafx.scene.chart.NumberAxis?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextArea?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<AnchorPane maxHeight="-Infinity" maxWidth="-Infinity" minHeight="-Infinity" minWidth="-Infinity" prefHeight="850.0" prefWidth="1200.0" style="-fx-background-color: #191924;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="sabbir.marketing.CandidateExperienceController">
    <children>
        <VBox layoutX="14.0" layoutY="14.0" prefHeight="822.0" prefWidth="1172.0" spacing="20.0" style="-fx-background-color: #242436;">
            <children>
                <Label text="Candidate Experience Review &amp; Feedback" textFill="WHITE">
                    <font>
                        <Font name="Cambria Math" size="30.0" />
                    </font>
                    <VBox.margin>
                        <Insets bottom="10.0" />
                    </VBox.margin>
                </Label>

                <HBox alignment="CENTER_LEFT" prefHeight="40.0" prefWidth="1132.0" spacing="20.0">
                    <children>
                        <Label text="Filter By Circular/Campaign:" textFill="WHITE">
                            <font>
                                <Font name="Arial Rounded MT Bold" size="16.0" />
                            </font>
                        </Label>
                        <ComboBox fx:id="campaignFilterComboBox" prefHeight="35.0" prefWidth="300.0" promptText="Select Source" style="-fx-background-color: #191924; -fx-text-fill: white;" />

                        <Label text="Time Range:" textFill="WHITE">
                            <font>
                                <Font name="Arial Rounded MT Bold" size="16.0" />
                            </font>
                        </Label>
                        <ComboBox fx:id="timeRangeComboBox" prefHeight="35.0" prefWidth="150.0" promptText="Last 90 Days" style="-fx-background-color: #191924; -fx-text-fill: white;" />

                        <Button mnemonicParsing="false" onAction="#handleLoadFeedback" prefHeight="35.0" prefWidth="120.0" style="-fx-background-color: #3498db;" text="Load Data" textFill="WHITE">
                            <font>
                                <Font name="Arial Rounded MT Bold" size="16.0" />
                            </font>
                        </Button>
                    </children>
                </HBox>

                <HBox prefHeight="350.0" prefWidth="1132.0" spacing="20.0">
                    <children>
                        <VBox prefHeight="350.0" prefWidth="300.0" spacing="15.0" style="-fx-background-color: #3e3e57; -fx-padding: 15;">
                            <children>
                                <Label text="Key Experience Metrics" textFill="WHITE">
                                    <font>
                                        <Font name="Arial Rounded MT Bold" size="20.0" />
                                    </font>
                                </Label>
                                <Label text="NPS (Net Promoter Score):" textFill="WHITE">
                                    <font>
                                        <Font name="Arial Rounded MT Bold" size="16.0" />
                                    </font>
                                </Label>
                                <Label fx:id="npsLabel" text="+00" textFill="#2ecc71">
                                    <font>
                                        <Font name="System Bold" size="36.0" />
                                    </font>
                                </Label>
                                <Label text="Avg. Rating (5.0 Scale):" textFill="WHITE">
                                    <font>
                                        <Font name="Arial Rounded MT Bold" size="16.0" />
                                    </font>
                                </Label>
                                <Label fx:id="avgRatingLabel" text="0.0" textFill="#f1c40f">
                                    <font>
                                        <Font name="System Bold" size="36.0" />
                                    </font>
                                </Label>
                                <Label text="Total Feedback Responses:" textFill="WHITE">
                                    <font>
                                        <Font name="Arial Rounded MT Bold" size="16.0" />
                                    </font>
                                </Label>
                                <Label fx:id="totalResponsesLabel" text="000" textFill="#3498db">
                                    <font>
                                        <Font name="System Bold" size="30.0" />
                                    </font>
                                </Label>
                            </children>
                        </VBox>

                        <BarChart fx:id="ratingBreakdownChart" prefHeight="350.0" prefWidth="800.0" style="-fx-background-color: #3e3e57;" title="Rating Breakdown (1-5)">
                            <xAxis>
                                <CategoryAxis label="Rating Score" side="BOTTOM" />
                            </xAxis>
                            <yAxis>
                                <NumberAxis label="Number of Candidates" side="LEFT" />
                            </yAxis>
                        </BarChart>
                    </children>
                </HBox>

                <Label text="Recent Candidate Comments" textFill="WHITE">
                    <font>
                        <Font name="Arial Rounded MT Bold" size="20.0" />
                    </font>
                </Label>
                <TableView fx:id="feedbackTableView" prefHeight="250.0" prefWidth="1132.0" style="-fx-background-color: #191924;">
                    <columns>
                        <TableColumn prefWidth="150.0" text="Date" />
                        <TableColumn prefWidth="550.0" text="Comment" />
                        <TableColumn prefWidth="120.0" text="Rating" />
                        <TableColumn prefWidth="150.0" text="Status" />
                        <TableColumn prefWidth="160.0" text="Action" />
                    </columns>
                </TableView>

                <Label text="Action Plan for Improvement:" textFill="WHITE">
                    <font>
                        <Font name="Arial Rounded MT Bold" size="16.0" />
                    </font>
                </Label>
                <HBox alignment="CENTER_LEFT" spacing="10.0">
                    <children>
                        <TextArea fx:id="actionPlanArea" prefHeight="50.0" prefWidth="850.0" promptText="Enter actionable steps based on feedback (e.g., Improve email communication)." style="-fx-background-color: #191924; -fx-text-fill: white; -fx-border-color: #555555; -fx-border-radius: 5;" wrapText="true" />
                        <Button mnemonicParsing="false" onAction="#handleSaveActionPlan" prefHeight="40.0" prefWidth="150.0" style="-fx-background-color: #e67e22;" text="Save Plan" textFill="WHITE">
                            <font>
                                <Font name="Arial Rounded MT Bold" size="16.0" />
                            </font>
                        </Button>
                    </children>
                </HBox>
            </children>
            <padding>
                <Insets bottom="20.0" left="20.0" right="20.0" top="20.0" />
            </padding>
        </VBox>
    </children>
</AnchorPane>
